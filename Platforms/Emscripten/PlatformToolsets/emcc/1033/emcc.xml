<?xml version="1.0" encoding="utf-8"?>
<Rule Name="CL" DisplayName="Clang C/C++" PageTemplate="tool" Order="10" SwitchPrefix="-" xmlns="http://schemas.microsoft.com/build/2009/properties" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" xmlns:sys="clr-namespace:System;assembly=mscorlib">

  <Rule.Categories>    
    <Category Name="General" DisplayName="General" />
    <Category Name="Optimization" DisplayName="Optimization" />
    <Category Name="Preprocessor" DisplayName="Preprocessor" />
    <Category Name="Code Generation" DisplayName="Code Generation" />
    <Category Name="Language" DisplayName="Language" />
    <Category Name="Output Files" DisplayName="Output Files" />
    <Category Name="Advanced" DisplayName="Advanced" />
    <Category Name="All Options" DisplayName="All Options" Subtype="Search" />
    <Category Name="Command Line" DisplayName="Command Line" Subtype="CommandLine" />
  </Rule.Categories>
  <Rule.DataSource>
    <DataSource Persistence="ProjectFile" ItemType="ClCompile" Label="" HasConfigurationCondition="true" />
  </Rule.DataSource>

  <!-- General -->

  <StringListProperty Subtype="folder" Name="AdditionalIncludeDirectories" DisplayName="Additional Include Directories" Description="Specifies one or more directories to add to the include path; separate with semi-colons if more than one. (-I[path])." Category="General" Switch="I" />

  <EnumProperty Name="GenerateDebugInformation" DisplayName="Debug Information Format" Description="Specifies the type of debugging information generated by the compiler." Category="General">
    <EnumValue Name="None" DisplayName="None" Switch="g0" />
    <EnumValue Name="LineNumber" DisplayName="Line Number Information" Switch="gline-tables-only" />
    <EnumValue Name="LimitedDebug" DisplayName="Limited Debug Information" Switch="g -flimit-debug-info" />
    <EnumValue Name="FullDebug" DisplayName="Full Debug Information" Switch="g" />
  </EnumProperty>

  <EnumProperty Name="Warnings" DisplayName="Warnings" Category="General">
    <EnumValue Name="DisableAllWarnings" DisplayName="Turn Off All Warnings" Description="Suppress all warnings." Switch="w" />
    <EnumValue Name="NormalWarnings" DisplayName="Enable Normal Warnings" Description="Use normal warning output level." />
    <EnumValue Name="AllWarnings" DisplayName="Enable All Warnings" Description="Output all possible warnings." Switch="Wall" />
  </EnumProperty>
  <BoolProperty Name="TreatWarningAsError" DisplayName="Treat Warnings As Errors" Description="Treats all compiler warnings as errors." Category="General" Switch="Werror" />

  <IntProperty Name="ErrorLimit" DisplayName="Compilation Error Limit" Description="Set the maximum number of errors to emit before stopping. A value of zero disables the error limit. The default value is 20." Category="General" Switch="ferror-limit=" />
  <IntProperty Name="TemplateBacktraceLimit" DisplayName="Template Backtrace Error Limit" Description="Set the maximum number of entries to print in a template instantiation backtrace. A value of zero disables the limit. The default value is 10." Category="General" Switch="ftemplate-backtrace-limit=" />

  <!-- Optimization -->

  <EnumProperty Name="OptimizationLevel" DisplayName="Optimization" Category="Optimization">
    <EnumValue Name="Custom" DisplayName="Default" />
    <EnumValue Name="O0" DisplayName="Disabled" Switch="O0" />
    <EnumValue Name="O1" DisplayName="Basic Optimization" Switch="O1" />
    <EnumValue Name="Os" DisplayName="Minimize Size" Switch="Os" />
    <EnumValue Name="O2" DisplayName="Maximize Speed" Switch="O2" />
    <EnumValue Name="O3" DisplayName="Full Optimization" Switch="O3" />
  </EnumProperty>

  <BoolProperty Name="OmitFramePointers" DisplayName="Omit Frame Pointers" Description="Suppresses creation of frame pointers on the call stack." Category="Optimization" Switch="fomit-frame-pointer" ReverseSwitch="fno-omit-frame-pointer" />

  <!-- Preprocessor -->
    
  <StringListProperty Name="PreprocessorDefinitions" DisplayName="Preprocessor Definitions" Description="Specify one or more preprocessor defines to be enabled for the compilation." Category="Preprocessor" Switch="D" />
  <StringListProperty Name="UndefinePreprocessorDefinitions" DisplayName="Undefine Preprocessor Definitions" Description="Specify one or more preprocessor undefines." Category="Preprocessor" Switch="U" />
  <StringListProperty Name="SystemPreprocessorDefinitions" Visible="false" Category="Preprocessor" Switch="D" />
  <StringListProperty Name="SystemUndefinePreprocessorDefinitions" Visible="false" Category="Preprocessor" Switch="U" />
  <BoolProperty Name="UndefineAllPreprocessorDefinitions" DisplayName="Undefine All Preprocessor Definitions" Description="Undefine all previously defined preprocessor values." Category="Preprocessor" Switch="undef" />

  <!-- Code Generation -->

  <EnumProperty Name="ExceptionHandling" DisplayName="Enable C++ Exceptions" Description="Specifies the model of exception handling to be used by the compiler." Category="Code Generation">
    <EnumValue Name="false" DisplayName="No" Description="Disable exception handling." Switch="fno-exceptions" />
    <EnumValue Name="true" DisplayName="Yes" Description="Enable exception handling." Switch="fexceptions" />
    <EnumValue Name="UnwindTables" DisplayName="Unwind Tables" Description="Generates any needed static data, but does not affect the code generated." Switch="funwind-tables" />
  </EnumProperty>

  <BoolProperty Name="FunctionLevelLinking" DisplayName="Enable Function-Level Linking" Description="Place each function in its own section." Category="Code Generation" Switch="ffunction-sections" />
  <BoolProperty Name="DataLevelLinking" DisplayName="Enable Data-Level Linking" Description="Place each data in its own section." Category="Code Generation" Switch="fdata-sections" />
  <BoolProperty Name="BufferSecurityCheck" DisplayName="Security Check" Description="Enable protection against stack-based memory corruption errors." Category="Code Generation" Switch="fstack-protector" />
  <BoolProperty Name="PositionIndependentCode" DisplayName="Position Independent Code" Description="Generate Position Independent Code (PIC) for use in a shared library." Category="Code Generation" Switch="fpic" />
  <BoolProperty Name="UseShortEnums" DisplayName="Use Short Enums" Description="Enum type uses only as many bytes required by input set of possible values." Category="Code Generation" Switch="fshort-enums" ReverseSwitch="fno-short-enums" />

  <!-- Language -->

  <BoolProperty Name="RuntimeTypeInfo" DisplayName="Enable Run-Time Type Information" Description="Adds code for checking C++ object types at run time (runtime type information)." Category="Language" Switch="frtti" ReverseSwitch="fno-rtti" />

  <EnumProperty Name="LanguageStandard" DisplayName="C++ Language Standard" Description="Determines the C/C++ language standard." Category="Language">
    <EnumValue Name="Default" DisplayName="Default" />
    <EnumValue Name="stdc89" DisplayName="ANSI X3.159-1989" Description="C98 Language Standard." Switch="std=c89" />
    <EnumValue Name="stdc99" DisplayName="ISO/IEC 9899:1999" Description="C99 Language Standard." Switch="std=c99" />
    <EnumValue Name="stdc11" DisplayName="ISO/IEC 9899:2011" Description="C11 Language Standard." Switch="std=c11" />
    <EnumValue Name="gnuc99" DisplayName="C99 with GNU extensions" Description="C99 Language Standard with GNU extensions." Switch="std=gnu99" />
    <EnumValue Name="gnuc11" DisplayName="C11 with GNU extensions" Description="C11 Language Standard with GNU extensions." Switch="std=gnu11" />
    <EnumValue Name="stdcpp98" DisplayName="ISO/IEC 14882:1998" Description="C++98 Language Standard." Switch="std=c++98" />
    <EnumValue Name="stdcpp03" DisplayName="ISO/IEC 14882:2003" Description="C++03 Language Standard." Switch="std=c++03" />
    <EnumValue Name="stdcpp11" DisplayName="ISO/IEC 14882:2011" Description="C++11 Language Standard." Switch="std=c++11" />
    <EnumValue Name="stdcpp14" DisplayName="ISO/IEC 14882:2014" Description="C++14 Language Standard." Switch="std=c++14" />
    <EnumValue Name="stdcpp17" DisplayName="ISO/IEC 14882:2017" Description="C++17 Language Standard." Switch="std=c++1z" />
    <EnumValue Name="gnucpp98" DisplayName="C++98 with GNU extensions" Description="C++98 Language Standard with GNU extensions." Switch="std=gnu++98" />
    <EnumValue Name="gnucpp11" DisplayName="C++11 with GNU extensions" Description="C++11 Language Standard with GNU extensions." Switch="std=gnu++11" />
  </EnumProperty>
  
  <EnumProperty Name="LanguageExtensions" DisplayName="Enable Clang Extensions" Description="Enable support for clang-specific C/C++ language extensions." Category="Language">
    <EnumValue Name="EnableLanguageExtensions" DisplayName="Yes" />
    <EnumValue Name="WarnLanguageExtensions" DisplayName="Yes with Warnings" Switch="pedantic" />
    <EnumValue Name="DisableLanguageExtensions" DisplayName="No" Switch="pedantic-errors" />
  </EnumProperty>
  <BoolProperty Name="EnableMicrosoftExtensions" DisplayName="Enable Microsoft Extensions" Description="Enable support for extensions from Microsoft Visual C++." Category="Language" Switch="fms-extensions" />
  <EnumProperty Name="MscVersion" DisplayName="Set _MSC_VER" Description="Version of the Microsoft C/C++ compiler to report in _MSC_VER." Category="Language">
    <EnumValue Name="NotSet" DisplayName="Not set" />
    <EnumValue Name="VisualC6" DisplayName="Visual C++ 6.0 SP6" Switch="fmsc-version=1200" />
    <EnumValue Name="VisualC7" DisplayName="Visual C++ 7.0" Switch="fmsc-version=1300" />
    <EnumValue Name="VisualC71" DisplayName="Visual C++ 2003" Switch="fmsc-version=1310" />
    <EnumValue Name="VisualC80" DisplayName="Visual C++ 2005" Switch="fmsc-version=1400" />
    <EnumValue Name="VisualC90" DisplayName="Visual C++ 2008" Switch="fmsc-version=1500" />
    <EnumValue Name="VisualC100" DisplayName="Visual C++ 2010" Switch="fmsc-version=1600" />
    <EnumValue Name="VisualC110" DisplayName="Visual C++ 2012" Switch="fmsc-version=1700" />
    <EnumValue Name="VisualC120" DisplayName="Visual C++ 2013" Switch="fmsc-version=1800" />
  </EnumProperty>

  <IntProperty Name="ConstExprLimit" DisplayName="Recursive Const Expression Invocation Limit" Description="Sets the limit for recursive constexpr function invocations. The default value is 512." Category="Language" Switch="fconstexpr-depth=" />
  <IntProperty Name="TemplateRecursionLimit" DisplayName="Recursive Template Instantiation Limit" Description="Sets the limit for recursively nested template instantiations. The default value is 1024." Category="Language" Switch="ftemplate-depth=" />

  <!-- Output Files -->

  <StringProperty Name="ObjectFileName" DisplayName="Object File Name" Category="Output Files" Subtype="file" Switch="o " />
  <BoolProperty Name="PreserveTempFiles" DisplayName="Preserve All Intermediate Files" Description="If set, the intermediate compilation results are stored to files. Look for files with suffixes .ii, .s and .o." Category="Output Files" Switch="save-temps" />

  <BoolProperty Name="GenerateDependencyFile" DisplayName="Generate Dependency File" Category="Output Files" Switch="MD" />
  <StringProperty Name="DependencyFileName" DisplayName="Dependency File Name" Category="Output Files" Switch="MF " />

  <!-- Advanced -->

  <EnumProperty Name="CompileAs" DisplayName="Compile As" Description="Select compile language option for .c and .cpp files. 'Default' will detect based on .c or .cpp extention." Category="Advanced">
    <EnumValue Name="Default" DisplayName="Default" />
    <EnumValue Name="CompileAsC" DisplayName="Compile as C Code" Description="Compile as C Code." Switch="x c" />
    <EnumValue Name="CompileAsCpp" DisplayName="Compile as C++ Code" Description="Compile as C++ Code." Switch="x c++" />
  </EnumProperty>

  <StringListProperty Name="ForcedIncludeFiles" DisplayName="Forced Include Files" Description="One or more forced include files." Category="Advanced" Subtype="file" Switch="include " />

  <BoolProperty Name="ShowIncludes" DisplayName="Show Includes" Description="Generates a list of include files with compiler output." Category="Advanced" Switch="H" />

  <StringListProperty Subtype="folder" Name="EnableSpecificWarnings" DisplayName="Enable Specific Warnings" Description="Specify one or more warnings to be enabled." Category="Advanced" Switch="W" />
  <StringListProperty Subtype="folder" Name="DisableSpecificWarnings" DisplayName="Disable Specific Warnings" Description="Specify one or more warnings to be suppressed." Category="Advanced" Switch="Wno-" />
  <StringListProperty Subtype="folder" Name="TreatSpecificWarningsAsErrors" DisplayName="Treat Specific Warnings As Errors" Description="Specify one or more warnings to be treated as errors." Category="Advanced" Switch="Werror=" />
  <StringListProperty Subtype="folder" Name="TreatSpecificWarningsNotAsErrors" DisplayName="Treat Specific Warnings As Non-Errors" Description="Specify one or more warnings to not be treated as errors." Category="Advanced" Switch="Wno-error=" />

  <EnumProperty Name="VerboseOutput" DisplayName="Verbose Compilation" Description="Specify what kind of debug trace output to generate during compilation." Category="Advanced">
    <EnumValue Name="NoVerboseOutput" DisplayName="Disabled" />
    <EnumValue Name="PrintCommands" DisplayName="Only Print Executed Commands" Switch="###" />
    <EnumValue Name="VerboseOutputMode" DisplayName="Verbose Compilation" Switch="v" />
  </EnumProperty>
  <BoolProperty Name="EchoCommandLines" DisplayName="Echo Command Lines" Description="Print out the commands clang is invoked with during compilation." Category="Advanced" />

  <BoolProperty Name="RunStaticAnalysis" DisplayName="Run Static Analysis Tool" Description="Run the clang static analyzer for all source files." Category="Advanced" Switch="-analyze" />

  <!-- Command Line -->

  <StringProperty Name="AdditionalOptions" DisplayName="Additional Options" Description="Additional Options" Category="Command Line" />
    
</Rule>
